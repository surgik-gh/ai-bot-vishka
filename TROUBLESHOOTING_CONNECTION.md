# Решение проблем с соединением при создании урока

## Основные причины ошибки "Ошибка соединения"

### 1. Не настроен API ключ OpenRouter

**Проблема:** В файле `.env` отсутствует или неверный `OPENROUTER_API_KEY`

**Решение:**
1. Создайте файл `.env` в корне проекта (если его нет)
2. Добавьте строку:
   ```
   OPENROUTER_API_KEY=ваш-openrouter-api-ключ-здесь
   ```
3. Перезапустите приложение

**Где получить API ключ:**
- Перейдите на https://openrouter.ai/keys
- Создайте новый ключ API
- Скопируйте и сохраните ключ

### 2. Проблемы с интернет-соединением

**Проблема:** Нет доступа к серверам OpenRouter API

**Решение:**
- Проверьте подключение к интернету
- Убедитесь, что нет блокировки файрволом
- Попробуйте позже, если проблема на стороне сервера

### 3. Превышено время ожидания

**Проблема:** Сервер OpenRouter не отвечает в течение 30 секунд

**Решение:**
- Проверьте скорость интернета
- Попробуйте позже, если сервер перегружен
- Уменьшите объем материала для урока

### 4. Неверный формат API ключа

**Проблема:** API ключ неверного формата или неактивен

**Решение:**
- Убедитесь, что ключ активен в личном кабинете OpenRouter
- Проверьте, что у ключа есть необходимые права

## Как проверить настройки

1. Откройте файл `.env` в корне проекта
2. Проверьте наличие строки `OPENROUTER_API_KEY=...`
3. Убедитесь, что ключ не содержит лишних пробелов или кавычек
4. Перезапустите приложение после изменений

## Логи для диагностики

При возникновении ошибки проверьте консоль, где запущено приложение. Там будут детальные сообщения об ошибке:
- `OpenRouter API error` - проблема с сетью или API
- `ERROR: Ошибка соединения с OpenRouter API` - проблема с подключением
- `ERROR: Превышено время ожидания` - проблема с таймаутом

## Альтернативное решение

Если проблема не решается, можно временно отключить создание уроков через API и использовать предустановленные уроки.



